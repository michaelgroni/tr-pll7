<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rp2040-Si5351: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">rp2040-Si5351
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The class is not quite finished yet. At the moment it supports most of the features of the Si5351A chip. Nevertheless, it should also be sufficient for many applications with the other variants.</p>
<p>Contributions are welcome, preferably as commit requests.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Example</h1>
<h2><a class="anchor" id="autotoc_md1"></a>
In CMakeLists.txt</h2>
<div class="fragment"><div class="line">add_library(<a class="code hl_class" href="class_si5351.html">Si5351</a> <a class="code hl_class" href="class_si5351.html">Si5351</a>.cpp)</div>
<div class="line">target_link_libraries(<a class="code hl_class" href="class_si5351.html">Si5351</a> pico_stdlib hardware_i2c)</div>
<div class="ttc" id="aclass_si5351_html"><div class="ttname"><a href="class_si5351.html">Si5351</a></div><div class="ttdef"><b>Definition</b> Si5351.hpp:8</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md2"></a>
Main</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;pico/stdlib.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;hardware/i2c.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_si5351_8hpp.html">Si5351.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="main_8cpp.html#a81c080ce50d5f0a44625562ca0df5a0b">I2C_PORT</a> {i2c0};</div>
<div class="line"><span class="keyword">const</span> uint8_t <a class="code hl_variable" href="main_8cpp.html#a4b21f6062544b717ac1c4decbb507e7d">I2C_SDA</a> {0};</div>
<div class="line"><span class="keyword">const</span> uint8_t <a class="code hl_variable" href="main_8cpp.html#a81029bf6b7c8554504f124ba5f240310">I2C_SCL</a> {1};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>()</div>
<div class="line">{</div>
<div class="line">    i2c_init(<a class="code hl_variable" href="main_8cpp.html#a81c080ce50d5f0a44625562ca0df5a0b">I2C_PORT</a>, 400*1000);</div>
<div class="line">    </div>
<div class="line">    gpio_set_function(<a class="code hl_variable" href="main_8cpp.html#a4b21f6062544b717ac1c4decbb507e7d">I2C_SDA</a>, GPIO_FUNC_I2C);</div>
<div class="line">    gpio_set_function(<a class="code hl_variable" href="main_8cpp.html#a81029bf6b7c8554504f124ba5f240310">I2C_SCL</a>, GPIO_FUNC_I2C);</div>
<div class="line">    gpio_pull_up(<a class="code hl_variable" href="main_8cpp.html#a4b21f6062544b717ac1c4decbb507e7d">I2C_SDA</a>);</div>
<div class="line">    gpio_pull_up(<a class="code hl_variable" href="main_8cpp.html#a81029bf6b7c8554504f124ba5f240310">I2C_SCL</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_si5351.html">Si5351</a> si5351;</div>
<div class="line">    si5351.<a class="code hl_function" href="class_si5351.html#aa9441a6eb45d277ec43c97d22f0b668b">setClkControl</a>(0, <span class="keyword">false</span>, <span class="keyword">false</span>, 0, <span class="keyword">false</span>, 3, 8);</div>
<div class="line">    si5351.<a class="code hl_function" href="class_si5351.html#a505914d0de591d086df8bba24ae6be5e">setPllInputSource</a>(1);</div>
<div class="line">    si5351.<a class="code hl_function" href="class_si5351.html#a03bb50ec3f42d4cb8671b6ef73189403">setPllParameters</a>(<span class="charliteral">&#39;a&#39;</span>, 35, 0, 1033);</div>
<div class="line">    si5351.<a class="code hl_function" href="class_si5351.html#a1fe0ff9838f840ba409a3feea6e9da6e">setMultisynth0to5parameters</a>(0, 90, 0, 15);</div>
<div class="line">    si5351.<a class="code hl_function" href="class_si5351.html#a6caf0ef289ef940ce437f336200ca42a">resetPll</a>();</div>
<div class="line">    si5351.<a class="code hl_function" href="class_si5351.html#ad948bc0eaeacc9235d7bffb5c03c45f3">setOutput</a>(0, <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_si5351_8hpp_html"><div class="ttname"><a href="_si5351_8hpp.html">Si5351.hpp</a></div></div>
<div class="ttc" id="aclass_si5351_html_a03bb50ec3f42d4cb8671b6ef73189403"><div class="ttname"><a href="class_si5351.html#a03bb50ec3f42d4cb8671b6ef73189403">Si5351::setPllParameters</a></div><div class="ttdeci">void setPllParameters(const char pll, const uint32_t integer, const uint32_t numerator, const uint32_t denominator)</div><div class="ttdoc">Sets the PLL dividers.</div><div class="ttdef"><b>Definition</b> Si5351.cpp:273</div></div>
<div class="ttc" id="aclass_si5351_html_a1fe0ff9838f840ba409a3feea6e9da6e"><div class="ttname"><a href="class_si5351.html#a1fe0ff9838f840ba409a3feea6e9da6e">Si5351::setMultisynth0to5parameters</a></div><div class="ttdeci">void setMultisynth0to5parameters(const uint8_t multisynth, const uint32_t integer, const uint32_t num, const uint32_t denom, uint8_t outDiv=0) const</div><div class="ttdoc">Configures the multisynth divider 0, 1, 2, 3, 4 or 5.</div><div class="ttdef"><b>Definition</b> Si5351.cpp:165</div></div>
<div class="ttc" id="aclass_si5351_html_a505914d0de591d086df8bba24ae6be5e"><div class="ttname"><a href="class_si5351.html#a505914d0de591d086df8bba24ae6be5e">Si5351::setPllInputSource</a></div><div class="ttdeci">void setPllInputSource(const uint8_t inputDivider, const uint8_t sourceB=0, const uint8_t sourceA=0)</div><div class="ttdoc">Sets the clock input divider.</div><div class="ttdef"><b>Definition</b> Si5351.cpp:250</div></div>
<div class="ttc" id="aclass_si5351_html_a6caf0ef289ef940ce437f336200ca42a"><div class="ttname"><a href="class_si5351.html#a6caf0ef289ef940ce437f336200ca42a">Si5351::resetPll</a></div><div class="ttdeci">void resetPll(const char pll) const</div><div class="ttdoc">Resets PLLA or PLLB.</div><div class="ttdef"><b>Definition</b> Si5351.cpp:112</div></div>
<div class="ttc" id="aclass_si5351_html_aa9441a6eb45d277ec43c97d22f0b668b"><div class="ttname"><a href="class_si5351.html#aa9441a6eb45d277ec43c97d22f0b668b">Si5351::setClkControl</a></div><div class="ttdeci">void setClkControl(const uint8_t clkIndex, bool powerDown, bool intMode, uint8_t inputSource, bool invert, uint8_t outputSource, uint8_t strength)</div><div class="ttdef"><b>Definition</b> Si5351.cpp:137</div></div>
<div class="ttc" id="aclass_si5351_html_ad948bc0eaeacc9235d7bffb5c03c45f3"><div class="ttname"><a href="class_si5351.html#ad948bc0eaeacc9235d7bffb5c03c45f3">Si5351::setOutput</a></div><div class="ttdeci">void setOutput(const uint8_t clkIndex, const bool enabled)</div><div class="ttdoc">Enables or disables a single output driver.</div><div class="ttdef"><b>Definition</b> Si5351.cpp:213</div></div>
<div class="ttc" id="amain_8cpp_html_a4b21f6062544b717ac1c4decbb507e7d"><div class="ttname"><a href="main_8cpp.html#a4b21f6062544b717ac1c4decbb507e7d">I2C_SDA</a></div><div class="ttdeci">const uint8_t I2C_SDA</div><div class="ttdef"><b>Definition</b> main.cpp:8</div></div>
<div class="ttc" id="amain_8cpp_html_a81029bf6b7c8554504f124ba5f240310"><div class="ttname"><a href="main_8cpp.html#a81029bf6b7c8554504f124ba5f240310">I2C_SCL</a></div><div class="ttdeci">const uint8_t I2C_SCL</div><div class="ttdef"><b>Definition</b> main.cpp:9</div></div>
<div class="ttc" id="amain_8cpp_html_a81c080ce50d5f0a44625562ca0df5a0b"><div class="ttname"><a href="main_8cpp.html#a81c080ce50d5f0a44625562ca0df5a0b">I2C_PORT</a></div><div class="ttdeci">const auto I2C_PORT</div><div class="ttdef"><b>Definition</b> main.cpp:7</div></div>
<div class="ttc" id="amain_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> main.cpp:12</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Documentation</h1>
<p>There is an <a href="https://michaelgroni.github.io/rp2040-Si5351">API documentation</a>. It is strongly recommended to read the <a class="el" href="class_si5351.html">Si5351</a> datasheet as well as Application Note 219.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
To do</h1>
<ul>
<li>Throw exceptions instead of using default values or ignoring values.</li>
<li>Fully support chip variants B and C.</li>
<li>Add Multisynth6 and Multisynth7.</li>
<li>Support spread spectrum.</li>
<li>Support phase offset.</li>
<li>Enable fanout.</li>
<li>Support DIVBY4.</li>
<li>Support multisynth integer mode. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
